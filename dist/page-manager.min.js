!function(a){function b(a){var b=new c(a).render(),e=new d({view:b});return Backbone.history.start(),{view:b,router:e}}var c=Yahweh.Builder.extend({preInit:function(a){this.views=a.views||{},this.viewsObj=this.createViewsObj()},postInit:function(){this.on("path-change",this.renderSection,this)},addToInstantiation:function(a){return a.views=this.views,a},createViewsObj:function(){var a,b,c,d={};for(a=0,b=this.views.length;b>a;a++)c=this.views[a],d[c.path]=c;return d},renderSection:function(a){var b;a?b=this.viewsObj[a]:(b=this.views[0],a=this.views[0].path),b.el.innerHTML=b.render().el.innerHTML}}),d=Backbone.Router.extend({initialize:function(a){this.view=a.view},routes:{"":"listenForPath",":path":"listenForPath"},listenForPath:function(a){this.view.trigger("path-change",a)}});a.PageManager=b}(window);