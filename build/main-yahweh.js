define("lib/yahweh",["backbone","underscore"],function(e,t){function i(e,t){this.instance=e,this.properties=t}function a(e,t){throw{name:e,message:t,toString:function(){return this.name+": "+this.message}}}var n=e.View.prototype.initialize,r=e.View.prototype.render;t.extend(e.View.prototype,{initialize:function(e){this.implement&&(new i(this,this.implement)).validate()}}),i.prototype.validate=function(){var e,t,n;for(e=0,t=this.properties.length;e<t;e++)n=this.properties[e],this.instance[n]||this.throwError("NotImplemented","You need to implement the "+n+" property. See object usage.")},i.prototype.throwError=function(e,t){throw{name:e,message:t,toString:function(){return this.name+": "+this.message}}};var s={},o={},u;return u={compile:function(e,t){if(e)return t=t||{},JST[e](t);a("NoTemplateNameSpecified","Ok, don't be a douche, provide a template name you dummy.")}},s.config=function(e){o=t.extend({},u,e)},s.Inject=function(e){function n(e){var t={};return typeof e=="function"?t=new e:e.name&&typeof e.name=="function"&&(t=new e.name(e.args||{})),t}var r={model:function(e){return n(e)},collection:function(e){return n(e)}};if(e.name)return e.args=e.args||{},t.each(e.args,function(t,n){n&&r[n]&&(e.args[n]=r[n](t))}),new e.name(e.args||{});a("ObjectNotFound","Come on you idiot, pass in a qualified object.")},s.ViewsManager=e.View.extend({initialize:function(e){this.options=e,this.views=this.createViews(e.views||[])},createViews:function(e){var t,n,r,i,o=[];for(t=0,n=e.length;t<n;t++)r=e[t],r.args=this.determineArgs(r),i=s.Inject(r),o.push(i);return o},determineArgs:function(e){return e.args=e.args||{},e.args.el=this.el||{},e.args}}),s.Builder=e.View.extend({initialize:function(e){this.preInit(e),this.sections=this.createSections(e.sections||{}),this.postInit(e)},createSections:function(e){var n={};return t.each(e,function(e,t){n[t]=this.createInstance(e)},this),n},createInstance:function(e){return e.args=e.args||{},e.args=this.addToInstantiation(e.args),new s.Inject(e)},addToInstantiation:function(e){return e},render:function(){return this.preRender(),t.each(this.sections,function(e,t){this.appendSection(t,e)},this),this.postRender(),this},appendSection:function(e,t){var n;(n=document.getElementById(e))?n.appendChild(t.render().el):a("NodeNotFound","Hey dummy! If you're going to define an id, use it, ok?")},preInit:function(e){},postInit:function(e){},preRender:function(){},postRender:function(){}}),s.View=e.View.extend({renderTemplate:function(e,t){return this.el.innerHTML=o.compile(e,t),this}}),s}),define("yahweh.page-manager",["backbone","lib/yahweh"],function(e,t){function i(t){var i=(new n(t)).render(),s=new r({view:i});return e.history.start(),{view:i,router:s}}var n=t.Builder.extend({preInit:function(e){this.views=e.views||{},this.viewsObj=this.createViewsObj()},postInit:function(e){this.on("path-change",this.renderSection,this)},addToInstantiation:function(e){return e.views=this.views,e},createViewsObj:function(){var e,t,n,r={};for(e=0,t=this.views.length;e<t;e++)n=this.views[e],r[n.path]=n;return r},renderSection:function(e){var t;e?t=this.viewsObj[e]:(t=this.views[0],e=this.views[0].path),t.el.innerHTML=t.render().el.innerHTML}}),r=e.Router.extend({initialize:function(e){this.view=e.view},routes:{"":"listenForPath",":path":"listenForPath"},listenForPath:function(e){this.view.trigger("path-change",e)}});return i}),define("views",["backbone","underscore","lib/yahweh"],function(e,t,n){var r={};window.JST={},JST.navigation=t.template('<ul><% _.each(items, function(item) { %><li><a href="#<%= item.path %>"><%= item.name %></a></li><% }); %></ul>');var i=e.View.extend({implement:["foo","bar"]});return r.Foo=e.Model.extend({defaults:{},initialize:function(e){},isSomething:function(){return!0}}),r.FooView=n.View.extend({path:"foo",name:"Foo",initialize:function(e){},render:function(){return this.el.innerHTML="<p>render foo</p>",this}}),r.BarView=e.View.extend({path:"bar",name:"Bar",foo:"got foo",render:function(){return this.el.innerHTML="<p>render bar</p>",this}}),r.BazView=e.View.extend({path:"baz",name:"Baz",render:function(){return this.el.innerHTML="<p>render baz</p>",this}}),r.NavigationView=n.View.extend({initialize:function(e){this.views=e.views},render:function(){return this.renderTemplate("navigation",{items:this.getTemplateData()})},getTemplateData:function(){var e,t,n,r=[];for(e=0,t=this.views.length;e<t;e++)n=this.views[e],r.push({path:n.path,name:n.name});return r}}),r.SidebarView=e.View.extend({render:function(){return this.el.innerHTML="<p>sidebar</p>",this}}),r.FooterView=e.View.extend({render:function(){return this.el.innerHTML="<p>footer</p>",this}}),r}),require.config({baseUrl:"js",paths:{jquery:"lib/jquery",underscore:"lib/underscore",backbone:"lib/backbone"},shim:{backbone:{deps:["underscore","jquery"],exports:"Backbone"},underscore:{exports:"_"}}}),require(["lib/yahweh","yahweh.page-manager","views"],function(e,t,n){console.log(e),e.config({compile:function(e,t){return JST[e](t)}});var r=new e.ViewsManager({el:"#content",views:[{name:n.FooView,args:{model:{name:n.Foo,args:{name:"Geoff",age:31}}}},{name:n.BarView},{name:n.BazView}]}),i=t({el:"#wrap",views:r.views,sections:{navigation:{name:n.NavigationView},sidebar:{name:n.SidebarView},footer:{name:n.FooterView}}})}),define("main",function(){});