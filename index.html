<!doctype html>
<html>
  <head>
    <title>Yahweb</title>
  </head>
  <body>
    <div id="wrap">
      <div id="navigation"></div>
      <div id="content"></div>
      <div id="sidebar"></div>
      <div id="footer"></div>
    </div>

    <script src="js/lib/require.js"></script>
    <script>
      require(['js/main'], function() {
        require(['yahweh', 'page-manager', 'views'], function(Yahweh, PageManager, Views) {
          console.log(Yahweh);
          Yahweh.config({
            compile: function(name, data) {
              return JST[name](data);
            }
          });

          var manager = new Yahweh.ViewsManager({
            el: '#content',

            views: [
              {
                name: Views.FooView,
                args: {
                  model: {
                    name: Views.Foo,
                    args: {
                      name: 'Geoff',
                      age: 31
                    }
                  }
                }
              },
              {
                name: Views.BarView
              },
              {
                name: Views.BazView
              }
            ]
          });

          var pageManager = PageManager({
            el: '#wrap',

            views: manager.views,

            sections: {
              navigation: {
                name: Views.NavigationView
              },

              sidebar: {
                name: Views.SidebarView
              },

              footer: {
                name: Views.FooterView
              }
            }
          });
        });
      });
    </script>
  </body>
</html>
